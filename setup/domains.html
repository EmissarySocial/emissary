{{template "_navigation.html" "domains"}}

<main>
	<div class="framed page">
		<h1>Domains on this Server</h1>
		<p>Manage domains configured on this server.  For more settings, you can also edit the config.json file manually.</p>

		<!-- List existing domains -->
		<table class="table">

			<!--  First row is "Add" link -->
			<tr role="link" hx-get="/domains/new"><td colspan="4">
				<i class="fas fa-plus-circle"></i> Add a Domain
			</td></tr>

			{{$empty := true}}
			{{- range .Config.Domains -}}
				<tr role="link" hx-get="/domains/{{.DomainID}}">
					<td>
						<i class="fas fa-server"></i> {{ .Label }}
					</td>
					<td>
						{{.Hostname}}
					</td>
					<td class="align-right">
						{{- if eq "" .ConnectString -}}
						{{- else -}}
							<a href="https://{{.Name}}/" target="_blank" class="button">Visit</a>
						{{- end -}}
					</td>
					<td class="align-right">
						{{- if ne "localhost" .Hostname -}}
							&nbsp;&nbsp;
							<button class="" hx-delete="/{{.DomainID}}" hx-confirm="Are you sure you want to DELETE this domain?  There is NO UNDO.">Delete</button>
						{{- end -}}
					</td>
				</tr>
			{{- end -}}
		</table>
	</div>
</main>