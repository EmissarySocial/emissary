{{template "_navigation.html" "domains"}}

<main>
	<div class="framed page">
		<h1>Domains on this Server</h1>
		<p>Manage domains configured on this server.  For help, visit the <a href="https://emissary.dev/admins" target="_blank">developer documentation</a>.</p>

		<!-- List existing domains -->
		<table class="table">

			<!--  First row is "Add" link -->
			<tr role="link" hx-get="/domains/new"><td colspan="3" class="link">
				{{icon "add"}} Add a Domain
			</td></tr>

			{{$empty := true}}
			{{- range .Domains -}}
				<tr>
					<td hx-get="/domains/{{.DomainID}}" role="button" nowrap>
						{{icon "server"}} {{ .Label }}
					</td>
					<td><div class="hide-md">{{.Hostname}}</div></td>
					<td class="align-right" nowrap>
						<button hx-get="/domains/{{.DomainID}}">Edit <span class="hide-sm">Domain</span></button>
							<button hx-get="/domains/{{.DomainID}}/users"><span class="hide-sm">Edit</span> Users</button>
						<span style="min-width:20px">&nbsp;&nbsp;</span>
						<button class="text-red" hx-delete="/domains/{{.DomainID}}" hx-confirm="Are you sure you want to DELETE this domain?  There is NO UNDO.">{{icon "delete"}} Delete</button>
					</td>
				</tr>
			{{- end -}}
		</table>
	</div>
</main>