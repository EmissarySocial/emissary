{
	"templateId": "outbox-link",
	"role": "outbox-item",
	"icon": "share",
	"label": "Link",
	"sort": 3,
	"description": "Single comment in the comments section of a page.",
	"containedBy": ["outbox"],
	"schema": {
		"type": "object",
		"properties": {
			"document":{"type":"object", "properties":{
				"summary": {
					"type": "string",
					"description": "The raw contents of the comment (before any post-processing is performed)"
				}
			}}
		}
	},
	"states": {
		"visible": {
			"label": "Visible",
			"description": "Comment is publicly visible"
		}
	},
	"roles": {
		"myself": {
			"label": "Myself",
			"decription": "Outbox messages can only be sent by the current user."
		}
	},
	"actions": {
		"view": {
			"step": "view-html"
		},
		"create":{
			"roles": ["myself"],
			"steps": [
				{
					"step": "form-html", 
					"target": "/@me/outbox-add?templateId=outbox-link",
					"form": {
						"type":"layout-vertical",
						"children": [
							{"type":"text", "path":"document.label", "label":"Title"},
							{"type":"text", "path":"origin.url", "label":"URL"},
							{"type":"textarea", "path":"document.summary", "label":"Comment"}
						]
					}
				},
				{"step":"set-data", "values":{"origin.source":"SHARE"}},
				{"step": "expand-url", "path":"origin"},
				{"step": "save"},
				{"step": "publish"},
				{"step": "trigger-event", "event":{"refreshPage":true}}
			]
		},
		"delete": {
			"roles":["myself"],
			"steps": [
				{"step": "delete"},
				{"step": "publish"}
			]
		}
	}
}