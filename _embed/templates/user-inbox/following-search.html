{{- $search := .QueryParam "search" -}}
<h2 class="margin-bottom-lg">{{icon "add"}} Follow a Person or Website</h2>

<div script="install menu">

	<div role="input" class="flex-row">

		<input 
			id="following-search-input"
			type="text" 
			name="search" 
			class="flex-grow-1" 
			placeholder="Enter a Name, @Username, or Website Address"
			tabIndex="0"
			value="{{attr $search}}"
			style="border:none; padding:0;" 
			script="on load call my focus() if my value is not empty then send initial"
			hx-get="/@me/inbox/following-search-results"
			hx-trigger="initial, keyup changed throttle:50ms queue:last"
			hx-target="#following-search-results"
			hx-swap="innerHTML"
			hx-push-url="false">

		<!--div>
			<span class="primary button htmx-request-hide text-sm" script="on click send submit to #following-search-input then focus() the #following-search-input">Search</button>
			<span class="primary button htmx-request-show text-sm" disabled>
				<span class="spin">{{icon "loading"}}</span>
				Searching...
			</span>
		</div-->

	</div>

	<div id="following-search-results"></div>
</div>