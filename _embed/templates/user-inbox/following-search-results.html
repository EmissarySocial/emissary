{{ $search := .QueryParam "search" }}
{{- $results := .ActivityStreamActors $search -}}
{{- $resultCount := len $results}}

{{- if eq "" $search -}}

{{- else if eq 0 $resultCount -}}
	<div class="text-center margin-top">
		<div class="text-light-gray">No results... Try a different name or address</div>
	</div>
{{- else -}}
	<div class="text-light-gray margin-top">Found {{$resultCount}} {{pluralize $resultCount "result:" "results:"}}</div>
	<div class="menu margin-top">
		{{- range $results -}}
			<div class="menu-item" role="button" tabIndex="0" hx-get="/@me/inbox/following-add?url={{.ID}}">
				<div class="flex-row margin-vertical-sm">
					{{- if ne "" .Icon -}}
						<img src="{{.Icon}}" class="circle-32">
					{{- else -}}
						<div class="circle-32 bg-light-gray"></div>
					{{- end -}}
					<div class="flex-grow-1">
						<div class="text-md margin-vertical-none">
							<span class="bold">{{.Name}}</span>
						</div>
						<div class="text-light-gray text-sm ellipsis">
							{{- if ne "" .Username -}}
								@{{.Username}}
							{{- else -}}
								{{.ID}}
							{{- end -}}
						</div>
					</div>

					<div class="text-sm">
						<span class="button">Follow</span>
					</div>
				</div>
			</div>
		{{- end -}}
	</div>
{{- end -}}
