{{- $search := .QueryParam "search" -}}
{{- $canBlock := .UserCan "block" -}}
{{- $followers := .Followers.(By "actor.name").Top12.Slice -}}

{{- range $followers -}}
	{{- $actor := .Actor -}}
	<div class="flex-row" role="button">
		<div hx-get="/@me/inbox/follower?followerId={{.FollowerID.Hex}}&amp;url={{$actor.ProfileURL}}" class="margin-right-sm">
			{{- if eq "EMAIL" .Method -}}
				<div class="circle-48 text-lg margin-none flex-center text-white">{{icon "email"}}</div>
			{{- else if eq "" $actor.IconURL -}}
				<div class="circle-48"></div>
			{{- else -}}
				<img src="{{$actor.IconURL}}" class="circle-48">
			{{- end -}}
		</div>
		<div hx-get="/@me/inbox/follower?followerId={{.FollowerID.Hex}}&amp;url={{$actor.ProfileURL}}" class="width-100%">
			<div class="bold">{{$actor.Name}}</div>
			<div class="text-light-gray">{{$actor.UsernameOrID}}</div>
		</div>
		<div class="align-right">
			{{- if $canBlock -}}
				<button class="text-red">Block</button>
			{{- end -}}
		</div>
	</div>
{{ end }}

{{- if eq 12 $followers.Length -}}
	{{- $last := $followers.Last -}}
	<div hx-get="/@me/inbox/followers-list?search={{$search}}&name=GT:{{$last.Actor.Name}}" hx-target="this" hx-trigger="revealed" hx-swap="outerHTML" hx-push-url="false"></div>
{{- end -}}
