{
	"templateId": "comment-group",
	"role": "feature",
	"label": "Comment Section",
	"description": "Allow visitors to comment on this stream.",
	"icon": "message",
	"schema": {
		"type": "object",
		"properties": {
			"document": {"type":"object", "properties": {
				"label": {"type":"string", "description": "The human-readable title for this article"},
				"summary": {"type":"string"}
			}}
		}
	},
	"states": {
		"default": {
			"label": "Default State",
			"description": "All articles only have one state"
		}
	},
	"roles": {
		"owner": {
			"label": "Domain Owner",
			"decription": "Full control"
			}, 
		"editor": {
			"label": "Editor",
			"description": "Can make changes to this article."
		},
		"readonly": {
			"label": "Read Only Access",
			"description": "Can read this article, but cannot make changes"
		}
	},
	"actions": {
		"feature": {"step": "view-html"},
		"children": {"step": "view-html"},
		"edit": {
			"roles": ["owner", "author"],
			"steps": [
				{"step": "set-data", "paths": "document.label"},
				{"step": "save", "message": "Updated by {{.Author}}"}
			]
		},
		"delete": {
			"roles": ["owner", "author"],
			"step": "delete"
		},
		"add": {
			"steps": [{
				"step": "add-child", 
				"template": "comment",
				"with-child": [
					{"step": "set-data", "paths":["document.summary"]},
					{"step": "save", "comment": "New Comment By"},
					{"step": "publish"}
				]
			}]
		}
	}
}
