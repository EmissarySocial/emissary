<!DOCTYPE html>
<html>
<head>
	<title>Register</title>
	{{ template "includes-head" .}}
</head>

<body hx-target="main" hx-swap="innerHTML" hx-push-url="false" hx-ext="preload">

	<main>
		<div id="main" class="framed">

			<div class="pure-g">
				<div class="pure-u-0 pure-u-sm-1-12 pure-u-md-1-6 pure-u-lg-1-4"></div>
				<div class="pure-u-1 pure-u-sm-5-6 pure-u-md-2-3 pure-u-lg-1-2">
					<div class="card padded">

						<form hx-post="/register" hx-swap="none" hx-push-url="false" class="pure-form pure-form-stacked">

							<h1>{{.SignupForm.Title}}</h1>

                            {{- if ne "" .SignupForm.Message -}}
                                <div class="margin-bottom">{{.SignupForm.Message}}</div>
                            {{- end -}}

							<fieldset script="install eventValidator(name:'displayName')">
								<label for="username">Your Name</label>
								<input type="text" name="displayName" id="displayName" required="true" minlength="4" maxlength="40" autofocus autocomplete="off">
								<div role="note" class="hint text-sm gray40">How others will see you.</div>
							</fieldset>

							<fieldset script="install eventValidator(name:'username')">
								<label for="username">Username</label>
								<input type="text" name="username" id="username" required="true" minlength="4" maxlength="40" autocomplete="off">
								<div role="note" class="message text-sm gray40">How you'll sign in.  Must be unique.</div>
							</fieldset>

							<fieldset class="margin-bottom" script="install eventValidator(name:'password')">
								<label for="password">Password</label>
								<input type="password" name="password" id="password" required="true" minlength="12" maxlength="100" autocomplete="off">
								<div role="note" class="text-sm gray40">12 or more characters.  Don't reuse passwords.</div>
							</fieldset>

							<div class="margin-top">
								<button id="submitButton" type="submit" class="primary">
									<span class="htmx-request-show">
										{{icon "loading"}} Creating Your Profile...
									</span>
									<span class="htmx-request-hide">Register</span>
								</button>
							</div>

							<div class="margin-top">
								Already have a profile?
								<a href="/signin">Sign In</a>
							</div>
					</form>

					</div>
				</div>
			</div>
		</div>
	</main>

	<script type="text/hyperscript" src="/.themes/global/registration"></script>
	{{ template "includes-foot" . }}
		
</body>
</html>
