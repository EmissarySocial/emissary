<!DOCTYPE html>
<html>
<head>
	<title>GH0ST</title>
	<link rel="stylesheet" href="/r/reset.css">
	<link rel="stylesheet" href="/r/layout.css">
	<link rel="stylesheet" href="/r/colors.css">
	<link rel="stylesheet" href="/r/tables.css">	
	<link rel="stylesheet" href="/r/forms.css">	
	<link rel="stylesheet" href="/r/modal.css">
	<link rel="stylesheet" href="/r/animations.css">
	<link rel="stylesheet" href="/r/accessibility.css">
	<link rel="stylesheet" href="/r/utilities.css">
</head>

<body hx-ext="preload">
	<div id="main" hx-target="#main" hx-swap="innerHTML" hx-push-url="true">
		{{.Render}}
	</div>

	<div id="menu" hx-target="#main" hx-push-url="true">

		<a href="/home" hx-get="/home" class="space-before space-after">Home</a>

		<div class="space-before space-after"></div>
		
		<a preload
			hx-get="/top/new/folder" 
			hx-target="body" 
			hx-swap="beforeend" 
			hx-push-url="false" 
			class="link">+ Add Folder</a>

		{{ range .TopLevel "" }}
			<a preload hx-get="/{{.Token}}">{{.Label}}</a>
		{{ end }}
	</div>

</body>

<script src="https://unpkg.com/htmx.org"></script>
<script src="https://unpkg.com/hyperscript.org"></script>
<script src="https://unpkg.com/htmx.org/dist/ext/preload.js"></script>

<script type="text/hyperscript">
	on closeModal(event) 
		add .closing to #modal 
		if event.detail.nextPage is not null then 
			set window.location to event.detail.nextPage 
		end 
		wait for animationend 
		remove #modal
</script>
</html>