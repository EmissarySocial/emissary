{
	"label": "Folder",
	"description": "Folders can contain all other streams",
	"icon": "fa-regular fa-folder",
	"containedBy": ["top", "folder"],
	"childSortType": "label",
	"childSortOrder": "asc",
	"schema": {
		"type": "object",
		"properties": {
			"layout": {"type": "string", "options": ["table", "grid"]}
		}
	},
	"states": {
		"default": {
			"label": "Default",
			"description": "Folders only have one state"
		}
	},
	"roles": {
		"editor": {
			"label": "Editor",
			"description": "Editors can manage all content in this folder"
		},
		"viewer": {
			"label": "Viewer",
			"description": "Viewers can access folder contents, but can not add new items"
		}
	},
	"actions": {
		"create": {
			"steps":[{
				"step": "set-defaults",
				"label": "New Folder"
			}, {
				"step": "save",
				"comment": "Created by {{.Author}}",
				"forwardTo": "/{{.Token}}/edit"
			}]
		},
		"edit": {
			"steps":[{
				"step": "form-html",
				"label": "Edit Folder",
				"form": {
					"kind": "layout-vertical",
					"label": "Update Form",
					"children": [{
						"kind": "text",
						"label": "Label",
						"path": "label"
					},{
						"kind": "textarea",
						"label": "Description",
						"path": "description"
					}, {
						"kind": "select",
						"label": "Layout",
						"path": "layout"
					}]
				}
			}, {
				"step": "set-data",
				"fields": ["label", "description"]
			}, {
				"step": "save",
				"comment": "Updated Folder",
				"trigger": "closeModal"
			}]
		},
		"view": {
			"steps": [{"step":"view-html"}]
		},
		"delete": {
			"steps": [{"step":"delete"}]
		},
		"new": {
			"steps":[{
				"step": "new-child",
				"comment": "Created by {{.Author}}",
				"withChild": [
					{"step": "save", "comment": "Created by {{.Author}}"},
					{"step": "forward-to", "url": "/{{.Token}}/edit"}
				]
			}]
		},
		"top": {
			"roles": ["owner"],
			"steps": [{
				"step": "new-sibling",
				"withSibling": [{
					"step": "set-defaults",
					"label": "New Folder"
				}, {
					"step": "save",
					"comment": "Created Folder",
					"forwardTo": "/{{.Token}}"
				}]
			}]
		}
	}
}