<div hx-get="{{.Token}}?view={{.ViewID}}" hx-trigger="stream:update" hx-swap="settle:1s" stream="{{.StreamID}}">

	{{ if .HasParent }}
		{{ $parent := .Parent "list-item"}}
		<div>
			<a href="/{{$parent.Token}}" hx-get="/{{$parent.Token}}" preload>&laquo; {{$parent.Label}}.</a>
		</div>
	{{ end }}

	<h1 class="space-after">{{.Label}}</h1>

	<article class="space-after">
		<div>{{.Description}}</div>
	</article>

	<div class="space-after">
		{{ if .CanTransition "update"}}
		<span 
			preload
			hx-get="/{{.Token}}/transition/update" 
			hx-target="body" 
			hx-swap="beforeend" 
			hx-push-url="false" 
			class="button primary">Update Stream</span>
		{{ end }}

		{{ if .CanTransition "share"}}
		<span 
			preload
			hx-get="/{{.Token}}/transition/share" 
			hx-target="body" 
			hx-swap="beforeend" 
			hx-push-url="false" 
			class="button primary">Share</span>
		{{ end }}

		{{ if .CanAddChild }}
		<span 
			preload
			hx-get="/{{.Token}}/new" 
			hx-target="body" 
			hx-swap="beforeend" 
			hx-push-url="false" 
			class="button">+ Add Stream</span>
		{{ end }}
	</div>

	<div class="space-after">
		{{ range .Children "list-item" }}
			{{.Render}}
		{{ end }}
	</div>

</div>

<a href="/signin">Signin</a>