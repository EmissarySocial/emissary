<link rel="stylesheet" href="/static/editor/editor.css" />
<link rel="stylesheet" href="//cdn.quilljs.com/1.3.6/quill.bubble.css">
<script src="//cdn.quilljs.com/1.3.6/quill.js"></script>
<script type="text/hyperscript" src="/static/editor/editor.hs"></script>

<div id="menu-bar">
	<button hx-post="/{{.Token}}/publish-draft" class="button primary">Publish</button>

	<button hx-get="/{{.Token}}">Save Draft</button>

	<button 
		script="install AsModal"
		hx-post="/{{.Token}}/delete-draft" 
		hx-confirm="Are you sure you want to DELETE this draft?">Cancel</button>

	&nbsp;
	&nbsp;

	{{- if .UserCan "properties" -}}
		<button script="install AsModal()" hx-get="/{{.Token}}/properties" class="button">Info</button>
	{{- end -}}

	{{- if .UserCan "delete" -}}
		<button hx-confirm="Are you sure you want to DELETE this Article?" hx-post="/{{.Token}}/delete" class="button">Delete</button>
	{{- end -}}

	{{- if .UserCan "share" -}}
		<button 
			preload
			hx-get="/{{.Token}}/transition/share" 
			hx-target="body" 
			hx-swap="beforeend" 
			hx-push-url="false" 
			class="button">Share</button>
	{{- end -}}

</div>

<h1 class="space-after">{{.Label}}</h1>

<article class="space-after">
	<div>{{.Description}}</div>
</article>

<article class="content-editor">
	<div>{{.ContentEditor}}</div>
</article>
