
<div>

	<div class="space-after">
		<span 
			preload
			hx-get="/{{.Token}}" 
			class="button">&laquo; Back</span>

		<button _="on click send submit to #editor" class="button primary">Save</button>

		{{ if .CanTransition "update"}}
			<span 
				preload
				hx-get="/{{.Token}}/transition/update" 
				hx-target="body" 
				hx-swap="beforeend" 
				hx-push-url="false" 
				class="button">Info</span>
		{{ end }}

		{{ if .CanTransition "share"}}
			<span 
				preload
				hx-get="/{{.Token}}/transition/share" 
				hx-target="body" 
				hx-swap="beforeend" 
				hx-push-url="false" 
				class="button">Share</span>
		{{ end }}

	</div>

	<h1 class="space-after">{{.Label}}</h1>

	<article class="space-after">
		<div>{{.Description}}</div>
	</article>

	<article class="space-after">
		<div>{{.ContentEditor}}</div>
	</article>

    {{ if .CanAddChild }}
        <div class="space-after">
            <span 
                preload
                hx-get="/{{.Token}}/new" 
                hx-target="body" 
                hx-swap="beforeend" 
                hx-push-url="false" 
                class="button">+ Add Stream</span>
        </div>
	{{ end }}
  	<div class="space-after">

		{{ range .Children "list-item" }}
			{{.Render}}
		{{ end }}
	</div>

</div>

<div id="toaster"></div>

<script src="/static/ckeditor5/build/ckeditor.js"></script>

<script>
	window.wysiwygConfig = {
		toolbar: {
			items: [
				'heading',
				'|',
				'bold',
				'italic',
				'link',
				'bulletedList',
				'numberedList',
				'|',
				'outdent',
				'indent',
				'|',
				'imageUpload',
				'blockQuote',
				'insertTable',
				'mediaEmbed',
				'undo',
				'redo'
			]
		},
		language: 'en',
		image: {
			toolbar: [
				'imageTextAlternative',
				'imageStyle:full',
				'imageStyle:side'
			]
		},
		table: {
			contentToolbar: [
				'tableColumn',
				'tableRow',
				'mergeTableCells'
			]
		},
		licenseKey: ''
	}
</script>
