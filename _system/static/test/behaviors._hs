behavior comboBox

    init
        put `<option value="__NEW__">&lt;${my @prompt}&gt;</option>` at the end of me
    end

    on focus
        set :previous to my value

    on change
        if my value == "__NEW__"
            get  prompt(my @prompt)
            if it is null then
                set my value to :previous
            else
                set option to last <option/> in me
                set option.value to it
                set option.innerHTML to it
                set my value to it
                put `<option value="__NEW__">&lt;${my @prompt}&gt;</option>` at the end of me
            end
        end
    end
end
